# 什么是继承

继承是面向对象编程的三大特性之一（封装、继承、多态），它指的是一个类（子类）可以继承另一个类（父类）的属性和方法，从而实现代码的复用和扩展。

# 继承的实现方式

在 Java 中，通过`extends`关键字来实现类的继承。

```java
// 父类
public class Animal {
    // 父类的属性和方法
}

// 子类继承父类
public class Dog extends Animal {
    // 子类的属性和方法
}
```

# 继承的特性

## 1. 单继承

Java 只支持单继承，一个子类只能继承一个父类。但是一个父类可以有多个子类。

## 2. 继承的传递性

继承具有传递性，即如果 C 继承 B，B 继承 A，那么 C 也间接继承了 A 的属性和方法。

## 3. 方法重写

子类可以重写（override）父类的方法，以提供自己的实现。

## 4. 构造方法的继承

子类不会继承父类的构造方法，但是子类的构造方法会默认调用父类的无参构造方法。

# 继承的示例

```java
// 父类
public class Animal {
    // 父类的属性
    protected String name;
    protected int age;

    // 父类的构造方法
    public Animal() {
        System.out.println("Animal的无参构造方法");
    }

    public Animal(String name, int age) {
        this.name = name;
        this.age = age;
        System.out.println("Animal的有参构造方法");
    }

    // 父类的方法
    public void eat() {
        System.out.println(name + "在吃东西");
    }

    public void sleep() {
        System.out.println(name + "在睡觉");
    }
}

// 子类
public class Dog extends Animal {
    // 子类的属性
    private String breed;

    // 子类的构造方法
    public Dog() {
        super(); // 调用父类的无参构造方法
        System.out.println("Dog的无参构造方法");
    }

    public Dog(String name, int age, String breed) {
        super(name, age); // 调用父类的有参构造方法
        this.breed = breed;
        System.out.println("Dog的有参构造方法");
    }

    // 子类的方法
    public void bark() {
        System.out.println(name + "在汪汪叫");
    }

    // 重写父类的方法
    @Override
    public void eat() {
        System.out.println(name + "在吃骨头");
    }
}

// 测试类
public class InheritanceTest {
    public static void main(String[] args) {
        // 创建Dog对象
        Dog dog = new Dog("旺财", 3, "金毛");

        // 调用继承的方法
        dog.eat(); // 调用重写后的方法
        dog.sleep(); // 调用继承的方法

        // 调用子类自己的方法
        dog.bark();
    }
}
```

# super 关键字

super 关键字用于：

1. 调用父类的构造方法
2. 调用父类的成员方法
3. 访问父类的成员变量

## 1. 调用父类的构造方法

```java
public Dog(String name, int age, String breed) {
    super(name, age); // 调用父类的有参构造方法
    this.breed = breed;
}
```

## 2. 调用父类的成员方法

```java
@Override
public void eat() {
    super.eat(); // 调用父类的eat方法
    System.out.println(name + "在吃骨头");
}
```

## 3. 访问父类的成员变量

```java
public void displayInfo() {
    System.out.println("Name: " + super.name);
    System.out.println("Age: " + super.age);
}
```

# 方法重写

## 什么是方法重写

方法重写是指子类重新实现父类的方法，以提供自己的实现。

## 方法重写的规则

1. 方法名必须相同
2. 参数列表必须相同
3. 返回类型必须相同或为父类返回类型的子类
4. 访问修饰符的访问权限不能小于父类方法的访问权限
5. 子类方法不能抛出比父类方法更多的异常

## 方法重写的示例

```java
// 父类的方法
public void eat() {
    System.out.println(name + "在吃东西");
}

// 子类重写父类的方法
@Override
public void eat() {
    System.out.println(name + "在吃骨头");
}
```

# final 关键字

final 关键字可以用于：

1. 修饰类：表示该类不能被继承
2. 修饰方法：表示该方法不能被重写
3. 修饰变量：表示该变量的值不能被修改

## 1. final 修饰类

```java
// 最终类，不能被继承
public final class FinalClass {
    // 类的内容
}
```

## 2. final 修饰方法

```java
// 父类
public class Parent {
    // 最终方法，不能被重写
    public final void finalMethod() {
        System.out.println("最终方法");
    }
}
```

## 3. final 修饰变量

```java
// 常量
public static final int MAX_AGE = 100;
```

# 继承的优点

## 1. 代码复用

子类可以继承父类的属性和方法，避免了代码的重复编写。

## 2. 代码扩展

子类可以在父类的基础上添加新的属性和方法，实现功能的扩展。

## 3. 多态的基础

继承是多态的基础，通过继承可以实现方法的重写，从而实现多态。

# 继承的应用场景

## 1. 实现代码复用

当多个类具有相同的属性和方法时，可以将这些共同的属性和方法提取到父类中，让子类继承父类。

## 2. 实现层次结构

通过继承可以实现类的层次结构，如动物类 → 哺乳动物类 → 狗类 → 金毛类。

## 3. 实现模板方法模式

通过继承可以实现模板方法模式，父类定义算法的骨架，子类实现具体的步骤。

# 示例代码

## 继承的完整示例

```java
// 父类
public class Shape {
    protected String color;

    public Shape() {
    }

    public Shape(String color) {
        this.color = color;
    }

    public void setColor(String color) {
        this.color = color;
    }

    public String getColor() {
        return color;
    }

    // 计算面积的方法，子类需要重写
    public double calculateArea() {
        return 0;
    }

    public void display() {
        System.out.println("形状颜色: " + color);
        System.out.println("面积: " + calculateArea());
    }
}

// 子类：圆形
public class Circle extends Shape {
    private double radius;

    public Circle() {
    }

    public Circle(String color, double radius) {
        super(color);
        this.radius = radius;
    }

    public void setRadius(double radius) {
        this.radius = radius;
    }

    public double getRadius() {
        return radius;
    }

    // 重写计算面积的方法
    @Override
    public double calculateArea() {
        return Math.PI * radius * radius;
    }
}

// 子类：矩形
public class Rectangle extends Shape {
    private double width;
    private double height;

    public Rectangle() {
    }

    public Rectangle(String color, double width, double height) {
        super(color);
        this.width = width;
        this.height = height;
    }

    public void setWidth(double width) {
        this.width = width;
    }

    public double getWidth() {
        return width;
    }

    public void setHeight(double height) {
        this.height = height;
    }

    public double getHeight() {
        return height;
    }

    // 重写计算面积的方法
    @Override
    public double calculateArea() {
        return width * height;
    }
}

// 测试类
public class ShapeTest {
    public static void main(String[] args) {
        // 创建圆形对象
        Circle circle = new Circle("红色", 5);
        System.out.println("圆形:");
        circle.display();

        // 创建矩形对象
        Rectangle rectangle = new Rectangle("蓝色", 4, 6);
        System.out.println("\n矩形:");
        rectangle.display();
    }
}
```

# 总结

继承是面向对象编程的重要特性，它通过让子类继承父类的属性和方法，实现了代码的复用和扩展。在 Java 中，继承通过`extends`关键字实现，并且只支持单继承。

通过继承，我们可以创建类的层次结构，实现代码的组织和管理。同时，继承也是多态的基础，通过方法重写可以实现不同子类对同一方法的不同实现。

合理使用继承可以提高代码的可维护性和可扩展性，但是过度使用继承可能会导致代码的复杂度增加，因此在使用继承时需要谨慎考虑。
